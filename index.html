<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Carnet d'Aventurier - Interface Gemini</title>
    <!-- Chargement du CDN de Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com"></script>
    <!-- Configuration de la police Inter et styles personnalisés -->
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700&display=swap');
        body {
            font-family: 'Inter', sans-serif;
            background-color: #f7f9fb;
            display: flex;
            justify-content: center;
            align-items: center;
            min-height: 100vh;
        }
        /* Style général de l'application - la "belle fenêtre" */
        .app-container {
            max-width: 40rem;
            width: 95%;
            background-color: white;
            border-radius: 1.5rem;
            box-shadow: 0 20px 25px -5px rgba(0, 0, 0, 0.1), 0 10px 10px -5px rgba(0, 10, 0, 0.04);
            overflow: hidden;
        }
        /* Style pour le loader (sera utilisé plus tard) */
        .loader {
            border-top-color: #10b981;
            -webkit-animation: spinner 1s linear infinite;
            animation: spinner 1s linear infinite;
        }
        @keyframes spinner {
            to {transform: rotate(360deg);}
        }
    </style>
</head>
<body class="p-4 sm:p-6 lg:p-8">

    <!-- LE CONTENEUR UNIQUE (LA BELLE FENÊTRE) -->
    <div class="app-container flex flex-col h-[80vh] sm:h-[90vh]">
        
        <!-- En-tête Intégré -->
        <header class="text-center p-6 bg-emerald-600 text-white shadow-md">
            <h1 class="text-3xl font-bold">Carnet d'Aventurier</h1>
            <p class="text-sm opacity-90 mt-1">Votre guide personnel propulsé par Gemini.</p>
        </header>

        <!-- Zone de sortie (Conseils de l'Oracle) - HAUT et SCROLLABLE -->
        <!-- J'ajoute un padding plus grand (p-6) et un fond légèrement gris (bg-gray-100) pour séparer visuellement -->
        <div class="flex-grow p-6 overflow-y-auto bg-gray-100 border-b border-gray-200">
            <div id="outputArea" class="prose max-w-none text-gray-700 leading-relaxed space-y-4">
                <p class="text-gray-500 italic">Bienvenue, aventurier. Décrivez votre situation ci-dessous pour recevoir les conseils de l'Oracle.</p>
            </div>
            
            <div id="sourcesArea" class="mt-4 pt-4 border-t border-gray-100 hidden">
                <h3 class="text-lg font-semibold text-gray-600 mb-2">Sources :</h3>
                <ul id="sourcesList" class="list-disc list-inside space-y-1 text-sm text-gray-500">
                    <!-- Les sources ou références apparaîtront ici -->
                </ul>
            </div>
        </div>


        <!-- Zone de saisie (Le Carnet) - BAS (L'input de l'utilisateur) -->
        <div class="p-4 bg-white">
            <!-- J'ai supprimé le titre h2 pour plus de clarté -->
            <textarea id="promptInput"
                      class="w-full p-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-emerald-500 transition duration-150 resize-none"
                      rows="3"
                      placeholder="J'entre dans un donjon gardé par un dragon de glace..."></textarea>

            <div class="mt-2 flex flex-col sm:flex-row justify-end items-center">
                <div id="statusMessage" class="text-sm text-red-500 mr-4 mb-2 sm:mb-0 hidden"></div>
                <button id="generateButton"
                        class="w-full sm:w-auto px-6 py-2 bg-emerald-600 text-white font-semibold rounded-lg hover:bg-emerald-700 transition duration-200 flex items-center justify-center"
                        disabled>
                    <span id="buttonText">Lancer l'Analyse</span>
                    <div id="loader" class="loader ease-linear rounded-full border-4 border-t-4 border-gray-200 h-6 w-6 ml-2 hidden"></div>
                </button>
            </div>
        </div>

    </div>

    <!-- Script minimal pour l'interface (sera complété plus tard) -->
    <script type="module">
        document.getElementById('promptInput').addEventListener('input', function() {
            const button = document.getElementById('generateButton');
            button.disabled = this.value.trim() === '';
        });
        console.log("Interface rectifiée : meilleure séparation visuelle des zones de sortie et de saisie.");
    </script>

</body>
</html>



